<!doctype html><html lang=zh-tw dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="利用按鈕去轉換螢幕顯示的圖片"><meta name=keywords content="Arduino,BongoCat,I2C,OLED,Arduino"><title>簡單BongoCat動畫 with Arduino</title>
<link rel=canonical href=https://orangeegg1937.github.io/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="簡單BongoCat動畫 with Arduino"><meta property='og:description' content="利用按鈕去轉換螢幕顯示的圖片"><meta property='og:url' content='https://orangeegg1937.github.io/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/'><meta property='og:site_name' content='Akua的IT狗Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='BongoCat'><meta property='article:tag' content='I2C'><meta property='article:tag' content='OLED'><meta property='article:tag' content='Arduino'><meta property='article:published_time' content='2024-01-20T20:28:00+08:00'><meta property='article:modified_time' content='2024-01-20T20:28:00+08:00'><meta property='og:image' content='https://orangeegg1937.github.io/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/cover.png'><meta name=twitter:title content="簡單BongoCat動畫 with Arduino"><meta name=twitter:description content="利用按鈕去轉換螢幕顯示的圖片"><meta name=twitter:card content="summary"><meta name=twitter:image content='https://orangeegg1937.github.io/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/cover.png'><link rel="shortcut icon" href=/favicon.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-W1EQ120P1Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W1EQ120P1Y")}</script><meta name=google-site-verification content="QoDzDo-j5Rdi7yex9-U-B0UEHZATgt6rPZIpiX2CXSc"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"dark")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切換選單>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_ca2360778f344cc6.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🤗</span></figure><div class=site-meta><h1 class=site-name><a href=/>Akua的IT狗Blog</a></h1><h2 class=site-description>「早上是IT狗，到了晚上，就是加班的IT狗；」</h2></div></header><ol class=menu-social><li><a href=https://github.com/OrangeEgg1937 target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://x.com/akuaaaaaaaaaaa1 target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about-me/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About me</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>夜晚模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目錄</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#前言>前言</a></li><li><a href=#分析>分析</a></li><li><a href=#hardware-setup-mcu螢幕>Hardware Setup (MCU＋螢幕)</a></li><li><a href=#sofware>Sofware</a><ol><li><a href=#圖片準備>圖片準備</a></li><li><a href=#將圖片import進去program>將圖片import進去program</a></li><li><a href=#按鈕控制>按鈕控制</a></li></ol></li><li><a href=#最終成果>最終成果</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/cover_hu_6afcddf7ba854684.png srcset="/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/cover_hu_6afcddf7ba854684.png 800w, /p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/cover_hu_305ac87526429cde.png 1600w" width=800 height=419 loading=lazy alt="Featured image of post 簡單BongoCat動畫 with Arduino"></a></div><div class=article-details><header class=article-category><a href=/categories/arduino/>Arduino</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/>簡單BongoCat動畫 with Arduino</a></h2><h3 class=article-subtitle>利用按鈕去轉換螢幕顯示的圖片</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jan 20, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>閱讀時間: 3 分鐘</time></div></footer></div></header><section class=article-content><h1 id=project-repo-here><strong>Project repo here: <a class=link href=https://github.com/OrangeEgg1937/ArduinoBongoCatOLED target=_blank rel=noopener>Code</a></strong></h1><h2 id=前言>前言</h2><p>話說在某一天，有位友人發送了這個貼文給我<blockquote class=instagram-media data-instgrm-captioned data-instgrm-permalink=https://www.instagram.com/p/C5qtH2cLLbm data-instgrm-version=14 style="background:#fff;border:0;border-radius:3px;box-shadow:0 0 1px rgba(0,0,0,.5),0 1px 10px rgba(0,0,0,.15);margin:1px;max-width:540px;min-width:326px;padding:0;width:99.375%;width:-webkit-calc(100% - 2px);width:calc(100% - 2px)"><div style=padding:16px><a href=https://www.instagram.com/p/C5qtH2cLLbm style=background:#fff;line-height:0;padding:0;text-align:center;text-decoration:none;width:100% target=_blank><div style=display:flex;flex-direction:row;align-items:center><div style=background-color:#f4f4f4;border-radius:50%;flex-grow:0;height:40px;margin-right:14px;width:40px></div><div style=display:flex;flex-direction:column;flex-grow:1;justify-content:center><div style=background-color:#f4f4f4;border-radius:4px;flex-grow:0;height:14px;margin-bottom:6px;width:100px></div><div style=background-color:#f4f4f4;border-radius:4px;flex-grow:0;height:14px;width:60px></div></div></div><div style="padding:19% 0"></div><div style="display:block;height:50px;margin:0 auto 12px;width:50px"><svg width="50" height="50" viewBox="0 0 60 60" xmlns:xlink="https://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-511.000000, -20.000000)" fill="#000"><g><path d="M556.869 30.41C554.814 30.41 553.148 32.076 553.148 34.131S554.814 37.852 556.869 37.852C558.924 37.852 560.59 36.186 560.59 34.131S558.924 30.41 556.869 30.41M541 60.657C535.114 60.657 530.342 55.887 530.342 50 530.342 44.114 535.114 39.342 541 39.342 546.887 39.342 551.658 44.114 551.658 50 551.658 55.887 546.887 60.657 541 60.657m0-26.771C532.1 33.886 524.886 41.1 524.886 50 524.886 58.899 532.1 66.113 541 66.113S557.115 58.899 557.115 50C557.115 41.1 549.9 33.886 541 33.886m24.378 28.215C565.244 65.022 564.756 66.606 564.346 67.663 563.803 69.06 563.154 70.057 562.106 71.106 561.058 72.155 560.06 72.803 558.662 73.347 557.607 73.757 556.021 74.244 553.102 74.378 549.944 74.521 548.997 74.552 541 74.552S532.056 74.521 528.898 74.378C525.979 74.244 524.393 73.757 523.338 73.347 521.94 72.803 520.942 72.155 519.894 71.106 518.846 70.057 518.197 69.06 517.654 67.663 517.244 66.606 516.755 65.022 516.623 62.101 516.479 58.943 516.448 57.996 516.448 50 516.448 42.003 516.479 41.056 516.623 37.899 516.755 34.978 517.244 33.391 517.654 32.338 518.197 30.938 518.846 29.942 519.894 28.894 520.942 27.846 521.94 27.196 523.338 26.654 524.393 26.244 525.979 25.756 528.898 25.623 532.057 25.479 533.004 25.448 541 25.448 548.997 25.448 549.943 25.479 553.102 25.623 556.021 25.756 557.607 26.244 558.662 26.654 560.06 27.196 561.058 27.846 562.106 28.894 563.154 29.942 563.803 30.938 564.346 32.338 564.756 33.391 565.244 34.978 565.378 37.899 565.522 41.056 565.552 42.003 565.552 50 565.552 57.996 565.522 58.943 565.378 62.101M570.82 37.631C570.674 34.438 570.167 32.258 569.425 30.349 568.659 28.377 567.633 26.702 565.965 25.035S562.623 22.342 560.652 21.575C558.743 20.834 556.562 20.326 553.369 20.18 550.169 20.033 549.148 20 541 20 532.853 20 531.831 20.033 528.631 20.18 525.438 20.326 523.257 20.834 521.349 21.575 519.376 22.342 517.703 23.368 516.035 25.035 514.368 26.702 513.342 28.377 512.574 30.349 511.834 32.258 511.326 34.438 511.181 37.631 511.035 40.831 511 41.851 511 50 511 58.147 511.035 59.17 511.181 62.369 511.326 65.562 511.834 67.743 512.574 69.651 513.342 71.625 514.368 73.296 516.035 74.965 517.703 76.634 519.376 77.658 521.349 78.425 523.257 79.167 525.438 79.673 528.631 79.82 531.831 79.965 532.853 80.001 541 80.001 549.148 80.001 550.169 79.965 553.369 79.82 556.562 79.673 558.743 79.167 560.652 78.425 562.623 77.658 564.297 76.634 565.965 74.965S568.659 71.625 569.425 69.651C570.167 67.743 570.674 65.562 570.82 62.369 570.966 59.17 571 58.147 571 50 571 41.851 570.966 40.831 570.82 37.631"/></g></g></g></svg></div><div style=padding-top:8px><div style=color:#3897f0;font-family:Arial,sans-serif;font-size:14px;font-style:normal;font-weight:550;line-height:18px>View this post on Instagram</div></div><div style="padding:12.5% 0"></div><div style=display:flex;flex-direction:row;margin-bottom:14px;align-items:center><div><div style=background-color:#f4f4f4;border-radius:50%;height:12.5px;width:12.5px;transform:translateX(0)translateY(7px)></div><div style=background-color:#f4f4f4;height:12.5px;transform:rotate(-45deg)translateX(3px)translateY(1px);width:12.5px;flex-grow:0;margin-right:14px;margin-left:2px></div><div style=background-color:#f4f4f4;border-radius:50%;height:12.5px;width:12.5px;transform:translateX(9px)translateY(-18px)></div></div><div style=margin-left:8px><div style=background-color:#f4f4f4;border-radius:50%;flex-grow:0;height:20px;width:20px></div><div style="width:0;height:0;border-top:2px solid transparent;border-left:6px solid #f4f4f4;border-bottom:2px solid transparent;transform:translateX(16px)translateY(-4px)rotate(30deg)"></div></div><div style=margin-left:auto><div style="width:0;border-top:8px solid #f4f4f4;border-right:8px solid transparent;transform:translateY(16px)"></div><div style=background-color:#f4f4f4;flex-grow:0;height:12px;width:16px;transform:translateY(-4px)></div><div style="width:0;height:0;border-top:8px solid #f4f4f4;border-left:8px solid transparent;transform:translateY(-4px)translateX(8px)"></div></div></div><div style=display:flex;flex-direction:column;flex-grow:1;justify-content:center;margin-bottom:24px><div style=background-color:#f4f4f4;border-radius:4px;flex-grow:0;height:14px;margin-bottom:6px;width:224px></div><div style=background-color:#f4f4f4;border-radius:4px;flex-grow:0;height:14px;width:144px></div></div></a></div></blockquote><script async src=https://www.instagram.com/embed.js></script>當時看完之后感覺幾有趣，於是自己根據這張貼文去嘗試重現出來</p><h2 id=分析>分析</h2><p>首先從圖片中可以大概了解當中必要的元件：MCU、顯示用的螢幕以及按鈕。</p><p>工作原理大概就是「透過按鈕去轉換顯示在螢幕上的圖片」，因此可以分為以下幾個步驟去實現：</p><ol><li>Hardware Setup (MCU＋螢幕)</li><li>Software (顯示圖片的program)<ul><li>2.1. 圖片準備</li><li>2.2. 控制按鈕去轉換圖片</li></ul></li></ol><h2 id=hardware-setup-mcu螢幕>Hardware Setup (MCU＋螢幕)</h2><figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/connection.png width=800px></figure><ul><li>1x Arduino UNO</li><li>2x Button</li><li>1x SSD1306 OLED (0.96")</li></ul><p>螢幕的通訊方法這裡將會使用I2C</p><h2 id=sofware>Sofware</h2><p>因為採用SSD1306，所以可以直接用Adafruit SSD1306 Library，節省了寫I2C connection以及顯示螢幕像素的部分。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#define SCREEN_WIDTH  128  </span><span class=c1>// OLED display width, in pixels
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define SCREEN_HEIGHT 64   </span><span class=c1>// OLED display height, in pixels
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define OLED_RESET    -1   </span><span class=c1>// Reset pin # (or -1 if sharing Arduino reset pin)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Declaration for an SSD1306 display connected to I2C (SDA, SCL pins)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Adafruit_SSD1306</span> <span class=nf>display</span><span class=p>(</span><span class=n>SCREEN_WIDTH</span><span class=p>,</span> <span class=n>SCREEN_HEIGHT</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>Wire</span><span class=p>,</span> <span class=n>OLED_RESET</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//  ------------------- For i2c -------------------
</span></span></span><span class=line><span class=cl><span class=c1>//  SSD1306_SWITCHCAPVCC = generate display voltage from 3.3V internally
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>display</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=n>SSD1306_SWITCHCAPVCC</span><span class=p>,</span> <span class=mh>0x3C</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=nf>F</span><span class=p>(</span><span class=s>&#34;SSD1306 allocation failed&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span><span class=p>(;;);</span> <span class=c1>// Don&#39;t proceed, loop forever
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>可能需要注意的是i2c address以及Arduino Pin位置（正常情況下應該都是0x3C）</p><h3 id=圖片準備>圖片準備</h3><p>SSD1306有幾個不同尺寸的型號，根據型號的尺寸，展示圖片的範圍也會有所不同。而我所使用的尺寸是128x64，為了方便設計，圖片的原生尺寸也設定為128x64。</p><figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/drawing.png width=800px></figure><p>然后再繪製4幅不同狀態的圖片（leftBtnOnClick, rightBtnOnClick, both, idle）</p><figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/pic_all.jpg width=800px></figure><h3 id=將圖片import進去program>將圖片import進去program</h3><p>將圖片export變成bitmap，利用LCD Assistant輸出成byte array。（詳細的工作原理之后可能再補充一下）</p><p>關於LCD Assistant使用方法，可以參考我在網上找到的：
<a class=link href=https://nhs-tw.blogspot.com/2015/11/step-by-step-oled-lcd-assistant.html target=_blank rel=noopener>＜Step By Step系列 - 番外篇 OLED圖片取檔方法, 使用LCD Assistant＞</a></p><p>之後我們將結果貼上在主程式裏面<figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/byte_array_01.jpg width=800px></figure></p><p>需要注意的是如果我們直接貼上的話，應該會顯示以下錯誤：<figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/max_error.jpg width=800px></figure>這個原因是因為Arduino的dynamic memory(RAM)沒有足夠空間放我們的圖片，dynamic memory通常在MCU上面所擁有的空間都比較少(而且珍貴)，而我們的圖片是一個非常大的檔案。</p><p>因為我們的圖片通常是是一個常數不會變的東西，所以我們可以將圖片的資料放在Flash memory，因此我們需要加一個modifier &ldquo;PROGMEM"在這個variable上面：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>const</span> <span class=kt>unsigned</span> <span class=kt>char</span> <span class=n>bongoCat_idle</span> <span class=p>[</span><span class=mi>1024</span><span class=p>]</span> <span class=n>PROGMEM</span> <span class=o>=</span> <span class=p>{...};</span>
</span></span></code></pre></td></tr></table></div></div><p>詳細的使用可以參考官方的文章：<a class=link href=https://www.arduino.cc/reference/en/language/variables/utilities/progmem/ target=_blank rel=noopener>Arduino - PROGMEM</a></p><p>之后圖片就可以順利import進去program裡面了！<figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/ok.png width=800px></figure></p><h3 id=按鈕控制>按鈕控制</h3><p>控制方面，可以想像成是一個簡單的state machine，望下按鈕的瞬間去render不同的圖片</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl>  <span class=c1>// if both button cliecked, draw both
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span> <span class=p>(</span><span class=n>leftBtnState</span> <span class=o>==</span> <span class=n>LOW</span> <span class=o>&amp;&amp;</span> <span class=n>rightBtnState</span> <span class=o>==</span> <span class=n>LOW</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>display</span><span class=p>.</span><span class=nf>drawBitmap</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>bongoCat_bothBtn</span><span class=p>,</span> <span class=mi>128</span><span class=p>,</span> <span class=mi>64</span><span class=p>,</span> <span class=n>WHITE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>leftBtnState</span> <span class=o>==</span> <span class=n>LOW</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>display</span><span class=p>.</span><span class=nf>drawBitmap</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>bongoCat_leftBtn</span><span class=p>,</span> <span class=mi>128</span><span class=p>,</span> <span class=mi>64</span><span class=p>,</span> <span class=n>WHITE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>rightBtnState</span> <span class=o>==</span> <span class=n>LOW</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>display</span><span class=p>.</span><span class=nf>drawBitmap</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>bongoCat_rightBtn</span><span class=p>,</span> <span class=mi>128</span><span class=p>,</span> <span class=mi>64</span><span class=p>,</span> <span class=n>WHITE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>display</span><span class=p>.</span><span class=nf>drawBitmap</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>bongoCat_idle</span><span class=p>,</span> <span class=mi>128</span><span class=p>,</span> <span class=mi>64</span><span class=p>,</span> <span class=n>WHITE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=最終成果>最終成果</h2><figure><img src=/p/%E7%B0%A1%E5%96%AEbongocat%E5%8B%95%E7%95%AB-with-arduino/src/result.png width=800px></figure></section><footer class=article-footer><section class=article-tags><a href=/tags/bongocat/>BongoCat</a>
<a href=/tags/i2c/>I2C</a>
<a href=/tags/oled/>OLED</a>
<a href=/tags/arduino/>Arduino</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><script src=https://giscus.app/client.js data-repo=OrangeEgg1937/orangeegg1937.github.io data-repo-id=R_kgDOOjbNNQ data-category=Announcements data-category-id=DIC_kwDOOjbNNc4Cpu-P data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"preferred_color_scheme")}})()</script><footer class=site-footer><section class=copyright>&copy;
2022 -
2025 Akua的IT狗Blog</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 建立<br>主題 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 設計</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>